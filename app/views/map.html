<div id="map1" class="map-container-1"></div>
<div class="map-action-menu-1">
    <ul class="t-menu compact open">
        <li><a class="dropdown-toggle"><span class="icon mif-menu"></span></a></li>
    </ul>
    <ul class="d-menu drop-left" data-role="dropdown">
        <li>
            <a href="#!/">
                <span class="icon mif-home"></span>
                <span>Home</span>
            </a>
        </li>
        <li>
            <a href="#!/map">
                <span class="icon mif-map"></span>
                <span>Map</span>
            </a>
        </li>
        <li>
            <a href="#!/search">
                <span class="icon mif-search"></span>
                <span>Search</span>
            </a>
        </li>
        <li>
            <a href="#!/route/step-1">
                <span class="icon mif-flow-branch"></span>
                <span>Route</span>
            </a>
        </li>
        <li>
            <a href="#!/about">
                <span class="icon mif-info"></span>
                <span>About</span>
            </a>
        </li>
    </ul>
</div>
<div class="map-action-menu-2">
    <ul class="t-menu open compact">
        <li class="c-pointer" ng-click="openCharmsBar(0)">
            <a>
                <span class="mif-bell icon"></span>
            </a>
        </li>
        <li class="c-pointer" ng-click="openCharmsBar(1)">
            <a>
                <span class="mif-location icon"></span>
            </a>
        </li>
        <li class="c-pointer" ng-click="openCharmsBar(2)">
            <a>
                <span class="mif-wifi-connect icon"></span>
            </a>
        </li>
    </ul>
</div>
<div class="map-action-menu-3">
    <ul class="t-menu open">
        <li class="c-pointer" ng-click="openCharmsBar(3)" ng-if="failureSensorCount">
            <a>
                <span class="mif-wifi-connect fg-orange icon"></span>
                <span class="badge bg-transparent" ng-bind="failureSensorCount"></span>
            </a>
        </li>
        <li class="c-pointer" ng-click="openCharmsBar(4)" ng-if="abnormalSensorCount">
            <a>
                <span class="mif-wifi-connect fg-red icon"></span>
                <span class="badge bg-transparent" ng-bind="abnormalSensorCount"></span>
            </a>
        </li>
        <li class="c-pointer" ng-click="openCharmsBar(5)" ng-if="emergencyRouteData.length">
            <a>
                <span class="mif-flow-branch fg-red icon"></span>
                <span class="badge bg-transparent" ng-bind="emergencyRouteData.length"></span>
            </a>
        </li>
        <li class="c-pointer" ng-click="openCharmsBar(6)" ng-if="customRouteData.length">
            <a>
                <span class="mif-flow-branch icon"></span>
                <span class="badge bg-transparent" ng-bind="customRouteData.length"></span>
            </a>
        </li>
    </ul>
</div>
<div class="bg-white fg-black border-right bd-lightGray" id="charmsBar" data-role="charms" data-position="left">
    <div class="map-charms-bar-width">
        <div class="row no-gap">
            <div class="cell my-1 my-2 mx-3">
                <strong ng-bind="charmBarTitle">Centre</strong>
            </div>
            <div class="cell-4 my-1 text-right">
                <button class="button flat-button" type="button" ng-click="closeCharmsBar()">
                    <span class="mif-arrow-left"></span>
                </button>
            </div>
        </div>
        <hr class="bg-lightGray mt-0">
        <div class="marker-division" ng-if="!emergencyRouteMode && !customRouteMode">
            <div class="mt-2 mb-3 mx-2">
                <input type="text" data-role="input" data-prepend="&lt;span class='mif-search'>&lt;/span>" ng-model="search"
                    ng-change="applyFilter()">
            </div>
            <div class="map-overflow-content">
                <div class="card fade-animation bg-light c-pointer my-1" ng-click="moveMapTo(item)" ng-repeat="item in tableData track by $index">
                    <div class="card-content p-1">
                        <div class="row no-gap">
                            <div class="cell-3 text-center px-1">
                                <img class="py-3" ng-src="{{item.icon}}" alt="map-icon">
                            </div>
                            <div class="cell">
                                <strong ng-bind="item.name"></strong><br>
                                <strong><small ng-bind="item.category"></small></strong><br>
                                <small ng-bind="item.type"></small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center" ng-if="!tableData.length">
                    <small>No results to display.</small>
                </div>
            </div>
        </div>
        <div class="map-overflow-content" ng-if="emergencyRouteMode">
            <div class="card fade-animation bg-light border c-pointer bd-gray my-1" ng-click="moveMapTo(item.routeArray[0])"
                ng-repeat="item in emergencyRouteData track by $index">
                <div class="card-content p-1">
                    <div class="row no-gap">
                        <div class="cell-md-2 fg-red text-center px-1">
                            <span class="mif-flow-branch mif-3x"></span>
                        </div>
                        <div class="cell">
                            <strong>From :</strong>
                            <strong ng-bind="item.routeInfo.origin"></strong><br>
                            <strong>To :</strong>
                            <strong ng-bind="item.routeInfo.destination"></strong><br>
                            <small>
                                <span>Nodes :</span>
                                <span ng-bind="item.routeInfo.totalNodes"></span><br>
                                <span>Distance :</span>
                                <span ng-bind="item.routeInfo.totalDistance"></span>
                                <span>km</span><br>
                                <span>Score :</span>
                                <span ng-bind="item.routeInfo.totalScore"></span>
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center" ng-if="!emergencyRouteData.length">
                <small>No results to display.</small>
            </div>
        </div>
        <div class="map-overflow-content" ng-if="customRouteMode">
            <div class="card fade-animation bg-light border c-pointer bd-gray my-1" ng-click="moveMapTo(item.routeArray[0])"
                ng-repeat="item in customRouteData track by $index">
                <div class="card-content p-1">
                    <div class="row no-gap">
                        <div class="cell-md-2 text-center px-1">
                            <span class="mif-flow-branch mif-3x"></span>
                        </div>
                        <div class="cell">
                            <strong>From :</strong>
                            <strong ng-bind="item.routeInfo.origin"></strong><br>
                            <strong>To :</strong>
                            <strong ng-bind="item.routeInfo.destination"></strong><br>
                            <small>
                                <span>Nodes :</span>
                                <span ng-bind="item.routeInfo.totalNodes"></span><br>
                                <span>Distance :</span>
                                <span ng-bind="item.routeInfo.totalDistance"></span>
                                <span>km</span><br>
                                <span>Score :</span>
                                <span ng-bind="item.routeInfo.totalScore"></span>
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center" ng-if="!customRouteData.length">
                <small>No results to display.</small>
            </div>
        </div>
    </div>
</div>